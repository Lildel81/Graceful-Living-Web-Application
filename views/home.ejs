
<!--/*------------------Carousel section-------------------------------*/-->
<section aria-label="Newest Photos">
  <div class="carousel" data-carousel>
    <!--previous and next btn start-->
    <button class="carousel-button prev" data-carousel-button="prev">&#60;</button>
    <button class="carousel-button next" data-carousel-button="next">&#62;</button>
    <!--previous and next btn end-->

    <!--main slider start-->
    <ul data-slides>
     

      <% if (slides.length === 0) { %>
        <li class="slide" data-active>
          <img class="slide-img" src="/images/default-fallback.jpg" alt="Slide Image">
        </li>
      <% } else { %>
        <% slides.forEach((slide, index) => { %>
          <li class="slide" <%= index === 0 ? 'data-active' : '' %>>
            <img class="slide-img"
                 src="<%= slide.imageUrl %>"
                 alt="Slide Image"
                 onerror="this.onerror=null;this.src='/images/default-fallback.jpg';">
            <div class="img-content">
              <h3 class="slide-title"><%= slide.title %></h3>
              <p class="slide-content"><%= slide.description %></p>
              <a href="<%= slide.buttonUrl %>">
                <button class="slide-btn"><%= slide.buttonText %></button>
              </a>
            </div>
          </li>
        <% }) %>
      <% } %>

      <!--Image cards end-->
    </ul>
    <!--main slider end-->

    

   <% slides.forEach((slide, i) => { %>
      <input type="radio" name="radio-btn" id="radio<%= i+1 %>" <%= i === 0 ? 'checked' : '' %>>
    <% }) %>

     <!--Radio button end-->

     <!--Automatic navigation start-->
    <div class="navigation-auto">
      <% slides.forEach((slide, i) => { %>
        <div class="auto-btn-<%= i+1 %>"></div>
      <% }) %>
    </div>
    <!--Automatic navigation end-->

    <!--Mannual navigation start-->
    <div class="navigation-mannual">
      

      <% slides.forEach((slide, i) => { %>
        <label for="radio<%= i+1 %>" class="mannual-btn"></label>
      <% }) %>

    </div>
    <!--Mannual navigation end-->
  </div>
</section>
<!--/*------------------------Carousel Section End------------------------------------*/-->
<div class="home-container">

 

  <!--Editable Home Quote-->
  <%
  var q = (homeQuote && homeQuote.quoteText && homeQuote.quoteText.trim())
    ? homeQuote.quoteText.trim()
    : '“Lorem ipsum dolor sit amet, consectetur adipiscing elit.”';
  %>

  <div class="quote-container">
    <h1><%= q %></h1>
    <a href="/assessment"><button id="quiz-button">Take our quiz</button></a>
  </div>

  
  
  <link rel="stylesheet" href="/css/home-intro.css">

  </div>
  <section class="intro-section">
  <div class="intro-content">
    <div class="intro-text">
      <h2>Hi, I’m Shante — founder of GracefuLiving Coaching.</h2>
      <p>Let me introduce myself and share how I help transform compassion fatigue into renewed energy and purpose.</p>
    </div>

    <div class="intro-video">
      <!-- DYNAMIC -->
      <%
  function toEmbed(url) {
    if (!url) return null;
    url = String(url).trim();

    // already embed (youtube or nocookie)
    if (/^https:\/\/(www\.)?youtube(-nocookie)?\.com\/embed\//i.test(url)) return url;

    // youtu.be/<id>
    const m1 = url.match(/^https?:\/\/youtu\.be\/([A-Za-z0-9_-]{6,})/i);
    if (m1) return `https://www.youtube.com/embed/${m1[1]}`;

    // youtube.com/watch?v=<id>
    const m2 = url.match(/[?&]v=([A-Za-z0-9_-]{6,})/i);
    if (url.includes("youtube.com/watch") && m2) return `https://www.youtube.com/embed/${m2[1]}`;

    return null;
  }

  const fallback = "https://www.youtube.com/embed/LKa0ABbkGrQ";
  const videoSrc = toEmbed(introVideo && introVideo.videoUrl) || fallback;
%>

<iframe
  src="<%= videoSrc %>"
  title="GracefulLiving Introduction Video"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerpolicy="strict-origin-when-cross-origin"
  allowfullscreen>
</iframe>




      <!-- STATIC IMPLEMENTATION -->
      <!-- <iframe
        src="https://www.youtube.com/embed/LKa0ABbkGrQ?si=ICvSx2P8WWPOMyz7"
        title="GracefulLiving Introduction Video"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen>
      </iframe>-->
    </div>
  </div>

  
<link rel="stylesheet" href="/css/home-services.css">

<section class="services-section">
  <h2 class="services-title">Services</h2>

  <div class="services-wrapper">
    <% if (services && services.length > 0) { %>
      <% services.forEach(service => { %>
        <div class="service-card">
          <!-- service image -->
          <img
            src="<%= service.imageUrl %>"
            alt="<%= service.serviceName %>"
            class="service-image"
          >

          <!-- overlay text -->
          <div class="text-overlay">
            <h3><%= service.serviceName %></h3>
            <p><%= service.serviceDescription %></p>
          </div>

          <!-- button (optional) -->
          <% if (service.buttonText && service.buttonUrl) { %>
            <a href="<%= service.buttonUrl %>" target="_blank">
              <button class="service-button"><%= service.buttonText %></button>
            </a>
          <% } %>
        </div>
      <% }) %>
    <% } else { %>
      <p class="no-services">No services available yet. Please check back soon!</p>
    <% } %>
  </div>
</section>


  <link rel="stylesheet" href="/css/home-testimonial.css">
  <div class="review-section">
    <h2 style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #003366;">Voices of the Healed</h2>
  
    <% selectedReviews.forEach((review, i) => { %>
      <div class="review" style="background: url('/images/review-background<%= (i % 3) + 1 %>.png') no-repeat center center / cover;">
        <% if (i % 2 === 0) { %>
          <div class="left-section">
            <p class="review-name"><%= review.name %></p>
          </div>
          <div class="right-section">
            <p class="review-quote"><%= review.quote %></p>
          </div>
        <% } else { %>
          <div class="left-section">
            <p class="review-quote"><%= review.quote %></p>
          </div>
          <div class="right-section">
            <p class="review-name"><%= review.name %></p>
          </div>
        <% } %>
      </div>
    <% }) %>
  
    <a href="/reviews" class="btn btn-testimonial"> Read more testimonials </a>
  </div>