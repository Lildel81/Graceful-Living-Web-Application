<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edit Client</title>
  <link rel="stylesheet" href="/css/clientmanagement.css"/>
  <style>
    .cm-card { max-width:700px; margin:24px auto; background:rgba(255,255,255,.95); border-radius:16px; box-shadow:0 8px 26px rgba(0,0,0,.12); padding:18px 20px; }
    .cm-row { display:flex; gap:14px; }
    .cm-field { flex:1; margin-bottom:12px; }
    .cm-field label { display:block; font-weight:600; margin-bottom:6px; }
    .cm-field input, .cm-field select { width:100%; padding:10px 12px; border:1px solid #cfe7e8; border-radius:10px; background:#f7fbfb; }
    .cm-actions { display:flex; gap:10px; margin-top:10px; }
    .btn { padding:9px 14px; border-radius:10px; border:none; cursor:pointer; }
    .btn-primary { background:#0b8; color:#fff; }
    .btn-secondary { background:#e9f5f6; color:#134f4f; }
    .err { color:#b00020; margin:6px 0 0; }
  </style>
</head>
<body>
  <div class="cm-card">
    <h2>Edit Client</h2>
    <% if (formError) { %><p class="err"><%= formError %></p><% } %>

    <form action="/clientmanagement/<%= client._id %>/update" method="POST">
      <div class="cm-row">
        <div class="cm-field">
          <label for="firstname">First Name</label>
          <input id="firstname" name="firstname" value="<%= client.firstname || '' %>" required>
        </div>
        <div class="cm-field">
          <label for="lastname">Last Name</label>
          <input id="lastname" name="lastname" value="<%= client.lastname || '' %>" required>
        </div>
      </div>

      <div class="cm-row">
        <div class="cm-field">
          <label for="phonenumber">Phone</label>
          <input id="phonenumber" name="phonenumber" value="<%= client.phonenumber || '' %>">
        </div>
        <div class="cm-field">
          <label for="email">Email</label>
          <input id="email" type="email" name="email" value="<%= client.email || '' %>" required>
        </div>
      </div>

      <div class="cm-field">
        <label for="closedChakra">Closed Chakra</label>
        <input id="closedChakra" name="closedChakra" value="<%= client.closedChakra || '' %>">
      </div>

      <div class="cm-actions">
        <button class="btn btn-primary" type="submit">Save</button>
        <a class="btn btn-secondary" href="/clientmanagement">Cancel</a>
      </div>
    </form>
  </div>
</body>
</html>
